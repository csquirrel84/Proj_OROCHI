# Project OROCHI Kibana Configuration
server.name: "orochi-kibana"
server.host: "0.0.0.0"
server.port: 5601

# Elasticsearch connection
elasticsearch.hosts: ["https://orochi-elasticsearch:9200"]
elasticsearch.username: "kibana_system"
elasticsearch.password: "{{ kibana_password }}"

# SSL/TLS settings - FIXED PATH
elasticsearch.ssl.certificateAuthorities: ["/usr/share/kibana/config/certs/ca/ca.crt"]
elasticsearch.ssl.verificationMode: certificate

# Security settings
xpack.security.encryptionKey: "c34d38b3a14956121ff2170e5030b471551370178f43e5626eec58b04a30fae2"
xpack.encryptedSavedObjects.encryptionKey: "d6a5eff4f6b8c5e8b6f3e2d1c8b5a4c3b2a1d9e8f7c6b5a4e3d2c1b9a8f7e6d5"
xpack.reporting.encryptionKey: "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6a7b8c9d0e1f2"

# Fleet settings
xpack.fleet.agents.elasticsearch.hosts: ["https://orochi-elasticsearch:9200"]
xpack.fleet.agents.fleet_server.hosts: ["https://{{ ansible_default_ipv4.address }}:{{ fleet_port }}"]

# Monitoring
monitoring.ui.container.elasticsearch.enabled: true
monitoring.ui.container.logstash.enabled: true

# Logging
logging.appenders.file.type: file
logging.appenders.file.fileName: /usr/share/kibana/logs/kibana.log
logging.appenders.file.layout.type: json
logging.root.appenders: [default, file]
logging.root.level: info

# Session timeout
xpack.security.session.idleTimeout: "1h"
xpack.security.session.lifespan: "30d"


# Machine Learning
#xpack.ml.enabled: "true"

